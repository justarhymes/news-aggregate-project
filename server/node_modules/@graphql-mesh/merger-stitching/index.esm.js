import { stitchSchemas } from '@graphql-tools/stitch';
import { wrapSchema } from '@graphql-tools/wrap';

const mergeUsingStitching = async function ({ rawSources, typeDefs, resolvers, transforms }) {
    const unifiedSchema = stitchSchemas({
        subschemas: rawSources,
        typeDefs,
        resolvers,
    });
    unifiedSchema.extensions = unifiedSchema.extensions || {};
    Object.defineProperty(unifiedSchema.extensions, 'sourceMap', {
        get: () => unifiedSchema.extensions.stitchingInfo.transformedSchemas,
    });
    if (transforms === null || transforms === void 0 ? void 0 : transforms.length) {
        return wrapSchema(unifiedSchema, transforms);
    }
    return unifiedSchema;
};

export default mergeUsingStitching;
//# sourceMappingURL=index.esm.js.map
