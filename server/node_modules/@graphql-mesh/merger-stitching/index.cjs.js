'use strict';

const stitch = require('@graphql-tools/stitch');
const wrap = require('@graphql-tools/wrap');

const mergeUsingStitching = async function ({ rawSources, typeDefs, resolvers, transforms }) {
    const unifiedSchema = stitch.stitchSchemas({
        subschemas: rawSources,
        typeDefs,
        resolvers,
    });
    unifiedSchema.extensions = unifiedSchema.extensions || {};
    Object.defineProperty(unifiedSchema.extensions, 'sourceMap', {
        get: () => unifiedSchema.extensions.stitchingInfo.transformedSchemas,
    });
    if (transforms === null || transforms === void 0 ? void 0 : transforms.length) {
        return wrap.wrapSchema(unifiedSchema, transforms);
    }
    return unifiedSchema;
};

module.exports = mergeUsingStitching;
//# sourceMappingURL=index.cjs.js.map
